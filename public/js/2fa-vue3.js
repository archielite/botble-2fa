(()=>{"use strict";var e={619:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(519),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"pre{background:#e0e0e0;border-radius:4px;font-size:20px;padding:10px}.lds-ring{display:inline-block;height:80px;position:relative;width:80px}.lds-ring div{animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:4px solid #fff;border-color:var(--bs-secondary) transparent transparent transparent;border-radius:50%;box-sizing:border-box;display:block;height:64px;margin:8px;position:absolute;width:64px}.lds-ring div:first-child{animation-delay:-.45s}.lds-ring div:nth-child(2){animation-delay:-.3s}.lds-ring div:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]);const a=o},519:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},379:(e,t,r)=>{var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function c(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],o=0;o<e.length;o++){var a=e[o],l=t.base?a[0]+t.base:a[0],s=r[l]||0,u="".concat(l," ").concat(s);r[l]=s+1;var d=c(u),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:u,updater:v(f,t),references:1}),n.push(u)}return n}function s(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function p(e,t,r){var n=r.css,o=r.media,a=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,m=0;function v(e,t){var r,n,o;if(t.singleton){var a=m++;r=h||(h=s(t)),n=f.bind(null,r,a,!1),o=f.bind(null,r,a,!0)}else r=s(t),n=p.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=c(r[n]);i[o].references--}for(var a=l(e,t),s=0;s<r.length;s++){var u=c(r[s]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}r=a}}}},744:(e,t)=>{t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{var e=r(379),t=r.n(e),n=r(619),o={insert:"head",singleton:!1};t()(n.Z,o);n.Z.locals;const a=Vue;var i={class:"modal modal-blur fade",ref:"twoFactorModal",tabindex:"-1","aria-hidden":"true"},c={class:"modal-dialog modal-dialog-centered"},l={class:"modal-content"},s={class:"modal-header"},u={class:"modal-title"},d=(0,a.createElementVNode)("i",{class:"til_img"},null,-1),f={key:0},p={key:1},h={key:2},m=(0,a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-hidden":"true"},null,-1),v={class:"modal-body"},y={key:0},g=(0,a.createElementVNode)("img",{src:"/vendor/core/plugins/2fa/images/shield.png",class:"w-100",alt:"shield"},null,-1),w={class:"mt-4 ms-0"},b={key:1,class:"mt-4 ms-0"},E={class:"my-4 text-center"},x=["innerHTML"],_={class:"text-center"},N=["textContent"],k={class:"form-group mt-3"},L={key:2},V=(0,a.createElementVNode)("div",{class:"text-center my-4"},[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon text-success icon-lg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a.createElementVNode)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.createElementVNode)("path",{d:"M5 12l5 5l10 -10"})])],-1),S={class:"d-flex flex-wrap gap-2"},B=["textContent"],C={key:1,class:"loading-spinner"},O={class:"modal-footer"},j={class:"d-grid gap-2 w-100"},T=["disabled","textContent"];function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function P(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */P=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(O([])));x&&x!==r&&n.call(x,i)&&(b=x);var _=w.prototype=y.prototype=Object.create(b);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=d(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==D(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=f;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=V(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?m:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function V(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,V(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(D(t)+" is not iterable")}return g.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(_),s(_,l,"Generator"),s(_,i,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function F(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){F(a,n,o,i,c,"next",e)}function c(e){F(a,n,o,i,c,"throw",e)}i(void 0)}))}}const G={props:{qrCodeUrl:{type:String,default:null},confirmUrl:{type:String,default:null},recoveryCodesUrl:{type:String,default:null},enableUrl:{type:String,default:null}},data:function(){return{modal:null,step:1,data:null,code:null,secret:null,loading:!1,troubleshooting:!1,recoveryCodes:[]}},mounted:function(){var e=this;this.modal=new bootstrap.Modal(this.$refs.twoFactorModal),$event.on("show-two-factor-setup-modal",(function(){e.show()}))},watch:{step:function(e){2===e&&this.getQrCode()}},methods:{show:function(){this.reset(),this.modal.show()},hide:function(){this.modal.hide(),setTimeout((function(){return window.location.reload()}),1e3)},reset:function(){this.step=1,this.data=null,this.secret=null,this.loading=!1,this.troubleshooting=!1,this.recoveryCodes=[],this.code=null},getQrCode:function(){var e=this;return A(P().mark((function t(){var r,n,o,a,i;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,axios.get(e.qrCodeUrl);case 4:r=t.sent,n=r.data,o=n.error,a=n.message,i=n.data,o?Botble.showError(a):(e.data=i,e.secret=i.secret),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),Botble.showError(t.t0.response.data.error);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},confirm:function(){var e=this;return A(P().mark((function t(){var r,n,o,a,i,c,l;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,axios.post(e.confirmUrl,{code:e.code,secret:e.secret});case 4:if(r=t.sent,n=r.data,o=n.error,a=n.message,!o){t.next=10;break}Botble.showError(a),t.next=13;break;case 10:return t.next=12,e.enableTwoFactor(e.secret);case 12:e.step++;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),i=t.t0.response.data,c=i.error,l=i.message,Botble.showError(c||l);case 19:e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[1,15]])})))()},getRecoveryCodes:function(){var e=this;return A(P().mark((function t(){var r,n,o,a,i;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,axios.get(e.recoveryCodesUrl);case 4:r=t.sent,n=r.data,o=n.error,a=n.message,i=n.data,o?Botble.showError(a):e.recoveryCodes=i.recovery_codes,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),Botble.showError(t.t0.response.data.error);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},enableTwoFactor:function(e){var t=this;return A(P().mark((function r(){var n,o,a,i;return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,axios({method:"post",url:t.enableUrl,data:{secret:e}});case 3:if(n=r.sent,o=n.data,a=o.error,i=o.message,!a){r.next=8;break}return Botble.showError(i),r.abrupt("return");case 8:return r.next=10,t.getRecoveryCodes();case 10:Botble.showSuccess(i),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),Botble.showError(r.t0.response.data.error);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()}},computed:{isWelcome:function(){return 1===this.step},isQrCode:function(){return 2===this.step},isDone:function(){return 3===this.step}}};var M=r(744);const q=(0,M.Z)(G,[["render",function(e,t,r,n,o,D){return(0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("h4",u,[d,D.isWelcome?((0,a.openBlock)(),(0,a.createElementBlock)("strong",f,(0,a.toDisplayString)(e.__("trans.setup.welcome_title")),1)):(0,a.createCommentVNode)("",!0),D.isQrCode?((0,a.openBlock)(),(0,a.createElementBlock)("strong",p,(0,a.toDisplayString)(e.__("trans.setup.qrcode_title")),1)):(0,a.createCommentVNode)("",!0),D.isDone?((0,a.openBlock)(),(0,a.createElementBlock)("strong",h,(0,a.toDisplayString)(e.__("trans.setup.done_title")),1)):(0,a.createCommentVNode)("",!0)]),m]),(0,a.createElementVNode)("div",v,[o.loading?((0,a.openBlock)(),(0,a.createElementBlock)("div",C)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[D.isWelcome?((0,a.openBlock)(),(0,a.createElementBlock)("div",y,[g,(0,a.createElementVNode)("ol",w,[(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.__("trans.setup.welcome_tutorial_step_1")),1),(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.__("trans.setup.welcome_tutorial_step_1_description")),1)]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.__("trans.setup.welcome_tutorial_step_2")),1),(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.__("trans.setup.welcome_tutorial_step_2_description")),1)])])])):D.isQrCode?((0,a.openBlock)(),(0,a.createElementBlock)("ol",b,[(0,a.createElementVNode)("li",null,[o.troubleshooting?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.__("trans.setup.enter_code_manually_tutorial")),1),(0,a.createElementVNode)("div",_,[(0,a.createElementVNode)("pre",{textContent:(0,a.toDisplayString)(o.data.secret)},null,8,N),(0,a.createElementVNode)("button",{type:"button",onClick:t[1]||(t[1]=function(e){return o.troubleshooting=!1}),class:"btn btn-link position-static"},(0,a.toDisplayString)(e.__("trans.setup.try_scan_qrcode_again")),1)])],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.__("trans.setup.scan_qrcode_tutorial"))+" ",1),(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("div",{class:"d-block mb-2",innerHTML:o.data.svg},null,8,x),(0,a.createElementVNode)("button",{type:"button",onClick:t[0]||(t[0]=function(e){return o.troubleshooting=!0}),class:"btn btn-link position-static"},(0,a.toDisplayString)(e.__("trans.setup.cannot_scan_qrcode")),1)])],64))]),(0,a.createElementVNode)("li",null,[(0,a.createTextVNode)((0,a.toDisplayString)(e.__("trans.setup.enter_code_tutorial"))+" ",1),(0,a.createElementVNode)("div",k,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",inputmode:"numeric",pattern:"[0-9]*",autocomplete:"one-time-code","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.code=e}),class:"form-control form-control-lg",placeholder:"XXXXXX"},null,512),[[a.vModelText,o.code]])])])])):D.isDone?((0,a.openBlock)(),(0,a.createElementBlock)("div",L,[V,(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.__("trans.setup.done_message")),1),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.__("trans.setup.backup_codes_tutorial")),1),(0,a.createElementVNode)("div",S,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.recoveryCodes,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t},[(0,a.createElementVNode)("code",{textContent:(0,a.toDisplayString)(e),class:"px-2 py-1"},null,8,B)])})),128))])])])):(0,a.createCommentVNode)("",!0)],64))]),(0,a.createElementVNode)("div",O,[(0,a.createElementVNode)("div",j,[(0,a.createElementVNode)("button",{class:"btn btn-primary",disabled:o.loading,type:"button",onClick:t[3]||(t[3]=function(e){return D.isQrCode?D.confirm():D.isDone?D.hide():o.step++}),textContent:(0,a.toDisplayString)(D.isQrCode?e.__("trans.confirm"):D.isDone?e.__("trans.done"):e.__("trans.next"))},null,8,T)])])])])],512)}]]);var U={class:"modal modal-blur fade",ref:"twoFactorRemoveModal",tabindex:"-1","aria-hidden":"true"},I={class:"modal-dialog modal-dialog-centered"},X={class:"modal-content"},R={class:"modal-header"},$={class:"modal-title"},Q=(0,a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-hidden":"true"},null,-1),Y=(0,a.createElementVNode)("div",{class:"modal-status bg-warning"},null,-1),Z={class:"modal-body"},H={class:"form-group"},z=["disabled"],W={key:0,class:"loading-spinner"},J={class:"modal-footer"},K={class:"w-100 row"},ee={class:"col"},te=["textContent","disabled"],re={class:"col"},ne=["disabled","textContent"];function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ae=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(O([])));x&&x!==r&&n.call(x,i)&&(b=x);var _=w.prototype=y.prototype=Object.create(b);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=d(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==oe(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=f;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=V(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?m:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function V(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,V(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(oe(t)+" is not iterable")}return g.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(_),s(_,l,"Generator"),s(_,i,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ie(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const ce={props:{disableUrl:{type:String,required:!0}},data:function(){return{loading:!1,modal:null,code:""}},mounted:function(){var e=this;this.modal=new bootstrap.Modal(this.$refs.twoFactorRemoveModal),$event.on("show-two-factor-remove-modal",(function(){e.show()}))},methods:{remove:function(){var e,t=this;return(e=ae().mark((function e(){var r,n,o,a,i,c,l;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,axios.post(t.disableUrl,{_method:"DELETE",code:t.code});case 4:r=e.sent,n=r.data,o=n.error,a=n.message,o?Botble.showError(a):(Botble.showSuccess(a),t.hide(),setTimeout((function(){return location.reload()}),1e3)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),i=e.t0.response.data,c=i.error,l=i.message,Botble.showError(c||l);case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ie(a,n,o,i,c,"next",e)}function c(e){ie(a,n,o,i,c,"throw",e)}i(void 0)}))})()},show:function(){this.modal.show()},hide:function(){this.modal.hide()}}},le=(0,M.Z)(ce,[["render",function(e,t,r,n,o,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",U,[(0,a.createElementVNode)("div",I,[(0,a.createElementVNode)("div",X,[(0,a.createElementVNode)("div",R,[(0,a.createElementVNode)("h4",$,(0,a.toDisplayString)(e.__("trans.confirm_disable_title")),1),Q]),Y,(0,a.createElementVNode)("div",Z,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.__("trans.confirm_disable_description")),1),(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.__("trans.enter_code_to_disable")),1),(0,a.createElementVNode)("div",H,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",inputmode:"numeric",pattern:"[0-9]*",autocomplete:"one-time-code","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.code=e}),class:"form-control form-control-lg",placeholder:"XXXXXX",disabled:o.loading},null,8,z),[[a.vModelText,o.code]])]),o.loading?((0,a.openBlock)(),(0,a.createElementBlock)("div",W)):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",J,[(0,a.createElementVNode)("div",K,[(0,a.createElementVNode)("div",ee,[(0,a.createElementVNode)("button",{class:"btn btn-warning w-100",type:"button",onClick:t[1]||(t[1]=function(){return i.remove&&i.remove.apply(i,arguments)}),textContent:(0,a.toDisplayString)(e.__("trans.turn_off")),disabled:o.loading},null,8,te)]),(0,a.createElementVNode)("div",re,[(0,a.createElementVNode)("button",{class:"btn w-100",type:"button",onClick:t[2]||(t[2]=function(){return i.hide&&i.hide.apply(i,arguments)}),disabled:o.loading,textContent:(0,a.toDisplayString)(e.__("trans.cancel"))},null,8,ne)])])])])])],512)}]]);var se={class:"card-body"},ue=(0,a.createElementVNode)("h2",{class:"card-title card-title-lg text-center mb-4"},"Authenticate Your Account",-1),de=["textContent"],fe={class:"my-5"},pe={key:0,class:"row g-4"},he=[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("div",{class:"row g-2"},[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("input",{type:"text",class:"form-control form-control-lg text-center py-3",maxlength:"1",inputmode:"numeric",pattern:"[0-9]*","data-code-input":""})]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("input",{type:"text",class:"form-control form-control-lg text-center py-3",maxlength:"1",inputmode:"numeric",pattern:"[0-9]*","data-code-input":""})]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("input",{type:"text",class:"form-control form-control-lg text-center py-3",maxlength:"1",inputmode:"numeric",pattern:"[0-9]*","data-code-input":""})])])],-1),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("div",{class:"row g-2"},[(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("input",{type:"text",class:"form-control form-control-lg text-center py-3",maxlength:"1",inputmode:"numeric",pattern:"[0-9]*","data-code-input":""})]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("input",{type:"text",class:"form-control form-control-lg text-center py-3",maxlength:"1",inputmode:"numeric",pattern:"[0-9]*","data-code-input":""})]),(0,a.createElementVNode)("div",{class:"col"},[(0,a.createElementVNode)("input",{type:"text",class:"form-control form-control-lg text-center py-3",maxlength:"1",inputmode:"numeric",pattern:"[0-9]*","data-code-input":""})])])],-1)],me={key:1},ve={for:"recovery_code",class:"form-label"},ye={class:"form-footer"},ge={class:"btn-list flex-nowrap"},we=["textContent"],be={type:"submit",class:"btn btn-primary w-100"};function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function xe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(O([])));x&&x!==r&&n.call(x,i)&&(b=x);var _=w.prototype=y.prototype=Object.create(b);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=d(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ee(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=f;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=V(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?m:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function V(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,V(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ee(t)+" is not iterable")}return g.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(_),s(_,l,"Generator"),s(_,i,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function _e(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const Ne={props:{url:{type:String,default:function(){return null},required:!0}},data:function(){return{recovery:null,recovery_code:"",loading:!1,code:null}},methods:{submit:function(){var e,t=this;return(e=xe().mark((function e(){var r,n,o,a,i,c,l,s,u;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,r=t.recovery?{recovery_code:t.recovery_code}:{code:t.code},e.next=5,axios.post(t.url,r);case 5:n=e.sent,o=n.data,a=o.error,i=o.message,c=o.data,a?Botble.showError(i):window.location.href=c.next_url,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),l=e.t0.response.data,s=l.error,u=l.message,Botble.showError(s||u);case 14:t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){_e(a,n,o,i,c,"next",e)}function c(e){_e(a,n,o,i,c,"throw",e)}i(void 0)}))})()},toggleRecovery:function(){this.recovery=!this.recovery,this.code=null,this.recovery_code=null}},mounted:function(){var e=this;document.querySelectorAll("[data-code-input]").forEach((function(t,r){t.addEventListener("input",(function(t){t.target.value.length===t.target.maxLength&&r<5&&document.querySelectorAll("[data-code-input]")[r+1].focus(),t.target.value.length===t.target.maxLength&&5===r&&(e.code=Array.from(document.querySelectorAll("[data-code-input]")).reduce((function(e,t){return e+t.value}),""))})),t.addEventListener("keydown",(function(e){0===e.target.value.length&&"Backspace"===e.key&&0===r&&document.querySelectorAll("[data-code-input]")[r].focus(),0===e.target.value.length&&"Backspace"===e.key&&r>0&&document.querySelectorAll("[data-code-input]")[r-1].focus(),"ArrowLeft"===e.key&&r>0&&document.querySelectorAll("[data-code-input]")[r-1].focus(),"ArrowRight"===e.key&&r<5&&document.querySelectorAll("[data-code-input]")[r+1].focus()}))})),document.querySelector("[data-code-input]").focus()}},ke=(0,M.Z)(Ne,[["render",function(e,t,r,n,o,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",se,[ue,(0,a.createElementVNode)("p",{class:"my-4 text-center",textContent:(0,a.toDisplayString)(o.recovery?e.__("trans.challenge_recovery_code_tutorial"):e.__("trans.challenge_code_tutorial"))},null,8,de),(0,a.createElementVNode)("form",{onSubmit:t[2]||(t[2]=(0,a.withModifiers)((function(){return i.submit&&i.submit.apply(i,arguments)}),["prevent"]))},[(0,a.createElementVNode)("div",fe,[o.recovery?((0,a.openBlock)(),(0,a.createElementBlock)("div",me,[(0,a.createElementVNode)("label",ve,(0,a.toDisplayString)(e.__("trans.recovery_code")),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"recovery_code",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.recovery_code=e}),autofocus:"",autocomplete:"one-time-code"},null,512),[[a.vModelText,o.recovery_code]])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",pe,he))]),(0,a.createElementVNode)("div",ye,[(0,a.createElementVNode)("div",ge,[(0,a.createElementVNode)("button",{type:"button",class:"btn w-100",textContent:(0,a.toDisplayString)(o.recovery?e.__("trans.use_recovery_code"):e.__("trans.use_code")),onClick:t[1]||(t[1]=function(){return i.toggleRecovery&&i.toggleRecovery.apply(i,arguments)})},null,8,we),(0,a.createElementVNode)("button",be,(0,a.toDisplayString)(e.__("trans.login")),1)])])],32)])])}]]);"undefined"!=typeof vueApp&&(void 0===vueApp.eventBus&&(vueApp.eventBus={$on:function(){var e;return(e=window.$event).on.apply(e,arguments)},$emit:function(){var e;return(e=window.$event).emit.apply(e,arguments)}}),vueApp.booting((function(e){e.component("two-factor-setup-modal",q),e.component("two-factor-remove-modal",le),e.component("two-factor-challenge",ke)})))})()})();